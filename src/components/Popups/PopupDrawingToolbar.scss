@import '~box-ui-elements/es/styles/variables';

@mixin ba-PopupDrawingToolbarButton($width: 32px, $height: 32px) {
    display: flex;
    align-items: center;
    justify-content: center;
    width: $width;
    height: $height;
    padding: 0;
    color: $white;
    background: transparent;
    border: none;
    border-radius: $bdl-border-radius-size;
    outline: none;
    cursor: pointer;
    opacity: .7;
    transition: opacity 200ms ease;

    &:focus,
    &:hover {
        opacity: 1;
    }

    &[disabled] {
        cursor: default;
        opacity: .2;
    }
}

// Legacy styles (default)
.ba-PopupDrawingToolbar {
    background-color: $bdl-gray;
    border-radius: $bdl-border-radius-size;

    .ba-Popup-arrow {
        display: none;
    }

    .ba-Popup-content {
        display: flex;
        background-color: $bdl-gray;
        border: none;
        border-radius: $bdl-border-radius-size;
        box-shadow: none;
    }
}

// Modernized styles (when feature flag is enabled)
.ba-PopupDrawingToolbar--modernized {
    background-color: transparent;
    border-radius: 46px;

    .ba-Popup-content {
        gap: 4px;
        padding: 8px;
        background-color: rgba(0, 0, 0, .8);
        border-radius: 46px;
    }
}

.ba-PopupDrawingToolbar-group {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;

    & + & {
        border-left: 1px solid #000;
    }

    .ba-PopupDrawingToolbar--modernized & {
        gap: 4px;
    }
}

// Modernized border-left for adjacent groups
.ba-PopupDrawingToolbar--modernized .ba-PopupDrawingToolbar-group + .ba-PopupDrawingToolbar-group {
    border-left: 1px solid rgb(255, 255, 255, 8%);
}

.ba-PopupDrawingToolbar-delete,
.ba-PopupDrawingToolbar-redo,
.ba-PopupDrawingToolbar-undo {
    @include ba-PopupDrawingToolbarButton;

    path {
        fill: #fff;
    }
}

// Legacy comment button styles
.ba-PopupDrawingToolbar-comment {
    @include ba-PopupDrawingToolbarButton($width: max-content);
    @include common-typography;

    padding-right: 18px;
    padding-left: 18px;
    color: $white;
    font-weight: bold;
}

// Modernized comment button styles
.ba-PopupDrawingToolbar--modernized .ba-PopupDrawingToolbar-comment {
    padding-right: 8px;
    padding-left: 12px;
    font-size: 15px;
}
